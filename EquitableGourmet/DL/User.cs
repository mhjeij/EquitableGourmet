
// Generated by MyGeneration Version # (1.3.0.3)

using System;
using System.Data.Common;
using System.Data;
using Microsoft.Practices.EnterpriseLibrary.Data;

namespace EquitableGourmet
{
	public class User : UserBase
	{
		#region < CONSTRUCTORES >
		
		public User() : base()	{}
		
		#endregion



        public static DataTable Authenticate(String username, String password)
        {
            Database db = DatabaseFactory.CreateDatabase();
            string sqlCommand = "Authenticate";
            DbCommand dbCommandWrapper = db.GetStoredProcCommand(sqlCommand);
            db.AddInParameter(dbCommandWrapper, "@username", DbType.String, username);
            db.AddInParameter(dbCommandWrapper, "@password", DbType.String, password);
            DataSet ds = db.ExecuteDataSet(dbCommandWrapper);

            DataTable dt = ds.Tables[0];

            return dt;

        }

        public static DataTable UserExists(String username)
        {
            Database db = DatabaseFactory.CreateDatabase();
            string sqlCommand = "UserExists";
            DbCommand dbCommandWrapper = db.GetStoredProcCommand(sqlCommand);
            db.AddInParameter(dbCommandWrapper, "@username", DbType.String, username);
            DataSet ds = db.ExecuteDataSet(dbCommandWrapper);

            DataTable dt = ds.Tables[0];

            return dt;
            

        }

	}
}
